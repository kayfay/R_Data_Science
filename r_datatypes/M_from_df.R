
d.df <- data.frame(originf =
        factor(rep(2007:2013, 7:1)),
        dev=sequence(7:1),

t =
    c(3511, 3215, 2266, 1712, 1059, 587,
      340, 4001, 3702, 2278, 1180,  956,
      629, 4355, 3932, 1946, 1522, 1238,
      4295, 3455, 2023, 1320, 4150, 3747,
      2320, 5102, 4548, 6283))


d.triangle <- with(d.df, {
        M <- matrix(nrow=7, ncol=7,
                    dimnames=list(origin=levels(originf),
                                  dev=1:7))
        M[cbind(originf, dev)] <- t ; M
})


#       dev
# origin    1    2    3    4    5   6   7
#   2007 3511 3215 2266 1712 1059 587 340
#   2008 4001 3702 2278 1180  956 629  NA
#   2009 4355 3932 1946 1522 1238  NA  NA
#   2010 4295 3455 2023 1320   NA  NA  NA
#   2011 4150 3747 2320   NA   NA  NA  NA
#   2012 5102 4548   NA   NA   NA  NA  NA
#   2013 6283   NA   NA   NA   NA  NA  NA

library(reshape2)
acast(d.df, originf~dev, value.var='t', fun.aggregate=sum, margins=TRUE)
#           1     2     3    4    5    6   7 (all)
# 2007   3511  3215  2266 1712 1059  587 340 12690
# 2008   4001  3702  2278 1180  956  629   0 12746
# 2009   4355  3932  1946 1522 1238    0   0 12993
# 2010   4295  3455  2023 1320    0    0   0 11093
# 2011   4150  3747  2320    0    0    0   0 10217
# 2012   5102  4548     0    0    0    0   0  9650
# 2013   6283     0     0    0    0    0   0  6283
# (all) 31697 22599 10833 5734 3253 1216 340 75672
